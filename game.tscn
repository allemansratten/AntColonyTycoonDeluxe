[gd_scene load_steps=10 format=3 uid="uid://cs7o50oaokh2e"]

[ext_resource type="Script" path="res://game.gd" id="1_f6hxw"]
[ext_resource type="Script" path="res://scene_item_manager.gd" id="1_n0r2e"]
[ext_resource type="PackedScene" uid="uid://dcrdhn26hmhva" path="res://ant.tscn" id="2_82cr4"]
[ext_resource type="PackedScene" uid="uid://tmy1yvfu2r8g" path="res://anthill.tscn" id="4_cw8q0"]
[ext_resource type="PackedScene" uid="uid://c3v4pvxkk33qh" path="res://pheromone_layer.tscn" id="5_dmj4k"]
[ext_resource type="Shader" path="res://resources/shaders/color_dither_post_2d.gdshader" id="6_8n14l"]
[ext_resource type="Texture2D" uid="uid://bftew88ofmwbw" path="res://resources/palettes/steam-lords.png" id="6_l1q0f"]
[ext_resource type="PackedScene" uid="uid://bm6ou0h00mv5b" path="res://pheromone_bar.tscn" id="8_ru8sk"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6ii3t"]
shader = ExtResource("6_8n14l")
shader_parameter/dither_pixel_size = 1.0
shader_parameter/dither_pixel_offset = Vector2(0, 0)
shader_parameter/albedo = Color(1, 1, 1, 1)
shader_parameter/albedo_strength = 1.0
shader_parameter/dither_palette = ExtResource("6_l1q0f")

[node name="Game" type="Node"]
script = ExtResource("1_f6hxw")
ant_scene = ExtResource("2_82cr4")

[node name="AntSpawnTimer" type="Timer" parent="."]
wait_time = 0.75
autostart = true

[node name="SceneItemManager" type="Node" parent="."]
script = ExtResource("1_n0r2e")

[node name="ItemSpawnTimer" type="Timer" parent="SceneItemManager"]
wait_time = 10.0
autostart = true

[node name="Anthill" parent="." instance=ExtResource("4_cw8q0")]
position = Vector2(1228, 677)

[node name="ColorRect" type="ColorRect" parent="."]
top_level = true
z_index = 100
material = SubResource("ShaderMaterial_6ii3t")
offset_right = 1597.0
offset_bottom = 901.0
size_flags_horizontal = 4
size_flags_vertical = 4
color = Color(1, 1, 1, 0)

[node name="PheromoneLayer" parent="." instance=ExtResource("5_dmj4k")]
top_level = true
z_index = 200

[node name="PheromoneBar" parent="." instance=ExtResource("8_ru8sk")]
z_index = 300

[connection signal="timeout" from="AntSpawnTimer" to="." method="_on_ant_spawn_timer_timeout"]
[connection signal="timeout" from="SceneItemManager/ItemSpawnTimer" to="SceneItemManager" method="_on_item_spawn_timer_timeout"]
